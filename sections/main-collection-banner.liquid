{% if section.settings.show_collection_image and collection.image %}
  <div class="collection-hero page-width">
    <div class="collection-hero__image-wrapper">
      <div class="collection-hero__image ratio-container lazyload js"
           data-bgset="{% include 'bgset', image: collection.image %}"
           data-sizes="auto"
           data-parent-fit="cover"
           style="background-image: url('{{ collection.image | img_url: '300x300' }}');">
      </div>
    </div>
    {% if section.settings.show_title %}
      <div class="collection-hero__title-wrapper">
        <h1 class="collection-hero__title h2">
          {{ collection.title }}
        </h1>
        {% if section.settings.show_description and collection.description != blank %}
          <div class="rte collection-description">
            {{ collection.description }}
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
{% endif %}

<style>
.collection-hero {
  position: relative;
  margin-bottom: 30px;
}

.collection-hero__image-wrapper {
  height: 300px;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
}

.collection-hero__image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
}

.collection-hero__title-wrapper {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
  width: 100%;
  padding: 0 20px;
}

.collection-hero__title {
  margin: 0;
  font-size: 2.5em;
  font-weight: 700;
}

.collection-description {
  margin-top: 15px;
  color: #fff;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

@media screen and (max-width: 749px) {
  .collection-hero__image-wrapper {
    height: 200px;
  }

  .collection-hero__title {
    font-size: 1.8em;
  }
}
</style>

{% schema %}
{
  "name": "Collection banner",
  "tag": "section",
  "class": "collection-banner-section",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_collection_image",
      "label": "Show collection image",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_title",
      "label": "Show collection title",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_description",
      "label": "Show collection description",
      "default": true
    },
    {
      "type": "select",
      "id": "height",
      "label": "Banner height",
      "options": [
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "medium"
    }
  ],
  "presets": [
    {
      "name": "Collection banner"
    }
  ]
}
{% endschema %} 